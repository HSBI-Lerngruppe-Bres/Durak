<!-- spielfeld.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/spielfeld.css') }}">
    <title>Game Room</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <style>
        body.spielfeld-body {
            background: url('{{ url_for('static', filename='spielfeld.png') }}') no-repeat center center fixed;
            background-size: 100% 100%;
            margin: 0;
            padding: 0;
            border: none;
            height: 100vh;
            font-family: 'Baloo 2', cursive;
        }
    </style>
</head>
<body class="spielfeld-body">
    <div class="content">
        <h1 class="game-room-title">Game Room {{code}}</h1>
        <h1 class="trumpf">Trumpf: 
            {% if trumpf == 'C' %}
                ♣
            {% elif trumpf == 'D' %}
                <span style="color: red;">♦</span>
            {% elif trumpf == 'H' %}
                <span style="color: red;">♥</span>
            {% elif trumpf == 'S' %}
                ♠
            {% endif %}
        </h1>
        <div class="button-container">
            <button id="start-game-btn">Spiel Starten</button>
            <button id="end-attack-btn">Angriff Beenden</button>
            <button id="take-cards-btn">Karten Nehmen</button>
        </div>
        
        <div class="link-container">
            <div id="copy-link-icon" onclick="showModal()" title="Kopiere Link">
                <img src="{{ url_for('static', filename='images/link-hyperlink-color-icon.svg') }}" alt="Link Icon">
            </div>
        </div>

        <div class="played-cards" id="played-cards">
            <!-- Hier werden die gespielten Karten angezeigt -->
        </div>

        <div class="deck" id="deck">
            <!-- Karten werden hier angezeigt, sobald das Spiel gestartet ist -->
        </div>

        <!-- Hier das Bild von den Händen hinzufügen -->
        <div class="hands-image">
            <img src="{{ url_for('static', filename='spieler_hand.png') }}" alt="Hände">
        </div>

        <div class="messages" id="messages"></div>
    </div>
    
    <!-- Modales Fenster -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <p id="modal-text"></p>
        </div>
    </div>

    <script>
        function showModal() {
            const roomCode = '{{ code }}';
            const link = `${window.location.origin}/room/${roomCode}`;
            navigator.clipboard.writeText(link).then(() => {
                document.getElementById('modal-text').innerText = 'Link kopiert: ' + link;
                document.getElementById('modal').style.display = 'block';
            });
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }
    </script>
    <script src="{{ url_for('static', filename='spielfeld.js') }}" type="text/javascript"></script>
</body>
</html>
